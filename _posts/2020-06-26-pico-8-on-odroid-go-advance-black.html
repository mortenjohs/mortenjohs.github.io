---
layout: post
title: PICO-8 on an ODROID-GO Advance Black Edition
date: '2020-06-26T20:54:00.005+02:00'
author: Morten
tags:
- Programming
- howto
- Linux
- Hardware
- Pi
- game
- fix
- video games
modified_time: '2021-06-30T14:07:43.200+02:00'
thumbnail: https://1.bp.blogspot.com/-Gn8bcLL2FP0/XvZBS3Ej_UI/AAAAAAADYtI/l8XAD3vzjM0vDD5shZW9QtJJV24f0zZFgCK4BGAsYHg/s72-c/IMG_1731.HEIC
blogger_id: tag:blogger.com,1999:blog-6967032375013519080.post-5007627471392150187
blogger_orig_url: https://m635j520.blogspot.com/2020/06/pico-8-on-odroid-go-advance-black.html
---

<p><i><b>UPDATE 2021/06/30</b>: This whole procedure is now super simple if you go the EmuELEC way following this guide:&nbsp;<a href="https://retrogamecorps.com/2020/11/12/guide-pico-8-on-retro-handhelds/#EmuELEC">https://retrogamecorps.com/2020/11/12/guide-pico-8-on-retro-handhelds/#EmuELEC</a>&nbsp;It's basically just to put the pico-8 in a specific folder, and any roms (unless you just use splore) in another.</i></p><p>Last weekend I built the <a href="https://www.hardkernel.com/shop/odroid-go-advance-black-edition/" target="_blank">ODROID-GO Advance Black Edition</a> with my daughter. (Apart from re-experiencing my childhood's Commodore 64 an Amiga games,) One of our goals was to run <a href="https://www.lexaloffle.com/pico-8.php">PICO-8</a>, the great little fantasy console, on it. That seemed possible, given that it shares a similar CPU to the Raspberry PIs – where it runs great. </p><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-Gn8bcLL2FP0/XvZBS3Ej_UI/AAAAAAADYtI/l8XAD3vzjM0vDD5shZW9QtJJV24f0zZFgCK4BGAsYHg/s4032/IMG_1731.HEIC" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="3024" data-original-width="4032" src="https://1.bp.blogspot.com/-Gn8bcLL2FP0/XvZBS3Ej_UI/AAAAAAADYtI/l8XAD3vzjM0vDD5shZW9QtJJV24f0zZFgCK4BGAsYHg/s320/IMG_1731.HEIC" width="320" /></a></div><p>However, it was not <em>that</em> easy to get it up and running. Here’s what worked, but first, what didn’t…</p><h2 id="official-image">Official image</h2><p>First we installed the <a href="https://wiki.odroid.com/odroid_go_advance/make_sd_card">official image</a> from HardKernel on it. But alas, no luck getting things to run properly.</p><h2 id="emuelec">EmuELEC</h2><p>Next up was <a href="https://github.com/EmuELEC/EmuELEC/releases/tag/v3.6">EmuELEC</a>. There we managed to get PICO-8 to run in all it’s 8-bit glory! But! Controls didn’t work when launching from <a href="https://emulationstation.org/">EmulationStation</a>… What worked though, was to go to bash mode, ssh in from another device and launch joy2key.py and then PICO-8… What also worked was to plug an external controller into the device <i>before </i>launching PICO-8 from EmulationStation… This made me suspect that PICO-8 didn’t have the right SDL joystick config file. I couldn’t find the config for this new odroid online, but! I found this forum post on batocera linux: <a href="https://forum.odroid.com/viewtopic.php?f=193&amp;t=37256&amp;start=800#p295789">https://forum.odroid.com/viewtopic.php?f=193&amp;t=37256&amp;start=800#p295789</a></p><h2 id="batocera">Batocera</h2><p>So, I installed <a href="https://batocera.org/">batocera</a> and followed the steps outlined in the link above. Basically:</p><ol><li>Create folder <code>/userdata/roms/pico-8</code> (for the carts)</li><li>Create folder <code>/userdata/bios/pico-8</code> and extract the contents of the Raspberry Pi version of PICO-8 here. (As of this writing: pico-8_0.2.0i_raspi.zip)</li><li>Make <code>pico8_dyn</code> executable by <a href="https://wiki.batocera.org/access_the_batocera_via_ssh">ssh’ing into the odroid</a> and running: <div class="codehilite"><pre>chmod a+x /userdata/bios/pico-8/pico8_dyn<br /></pre></div></li><li>Create a file called <code>pico-8.sh</code> in <code>/userdata/roms/ports</code> with the following bash script in it: <div class="codehilite"><pre><span class="ch">#!/bin/bash</span><br />/userdata/bios/pico-8/pico8_dyn -splore -home /userdata/bios/pico-8 -root_path /userdata/roms/pico-8 -joystick 0<br /></pre></div>This makes Batocera’s emulation station add pico-8 to the “Ports” part of the launcher. Nice!</li><li>PICO-8 still wouldn’t get signals from the controller, so we need add this to <code>/userdata/bios/pico-8/sdl_controllers.txt&nbsp;</code>:  <div class="codehilite"><pre>// add SDL2 game controller mappings to this file<br />19000000010000000100000001010000,odroidgo2_joypad,a:b1,b:b0,x:b2,y:b3,leftshoulder:b4,rightshoulder:b5,dpdown:b9,dpleft:b10,dpright:b11,dpup:b8,leftx:a0,lefty:a1,guide:b17,leftstick:b13,lefttrigger:b6,rightstick:b16,righttrigger:b7,start:b12,platform:Linux,<br /></pre></div>This is a slight adaptation of the config outlined in the forum post mentioned above – to handle the extra buttons on the BE version of the Odroid-GO Advance. Basically it seems that the two new trigger buttons has, bizarrely, gotten codes that used to be taken by up and down ('b6' and 'b7') – even though the ID of the controller has been kept the same… (To make the UI of Batocera work properly you need to do a similar remapping there... and that is actually how I found the proper button numbers -- from the config file resulting from remapping the buttons.)</li></ol><div>So, there goes. PICO-8 on a handheld device.</div>